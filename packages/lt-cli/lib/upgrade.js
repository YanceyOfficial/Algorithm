"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("child_process"),t=require("ora"),a=require("node-fetch"),r=require("compare-versions"),s=require("chalk");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o,n=c(e),i=c(t),u=c(a),d=c(r),l=c(s),f="3.0.0";!function(e){e.Easy="Easy",e.Medium="Medium",e.Hard="Hard",e.Others="Others"}(o||(o={})),process.cwd(),process.cwd();const p=async()=>{const e=await(async()=>{const e=await u.default("https://api.github.com/repos/YanceyOfficial/leetcode-trip/tags"),t=(await e.json())[0].name.match(/\d+\.\d+\.\d+/g);return t?t[0]:""})(),t=f,a=1===d.default(e,t);return a?console.log(l.default.red(`\n最新版本为 v${e}, 你的版本 v${t} 已落后, 正在升级中.`)):console.log(l.default.green(`已经是最新版本 v${e}, 无需升级.`)),a};const y=async e=>{const t=i.default("正在检索最新版本...").start(),a=await p();if(t.stop(),a){const t=i.default("正在升级...").start();await(r=e,new Promise(((e,t)=>{n.default.exec(r,((a,r)=>{a?t(a):e(r.trim())}))}))),t.stop(),i.default().succeed("升级成功!")}var r};y("npm install -g @yancey-inc/lt-cli@latest"),exports.upgrade=y;
