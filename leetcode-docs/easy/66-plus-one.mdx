---
id: 66-plus-one
title: 加一
sidebar_label: 66. 加一
---

## 题目

给定一个由**整数**组成的非空数组所表示的非负整数, 在该数的基础上加一. 最高位数字存放在数组的首位, 数组中每个元素只存储单个数字. 你可以假设除了整数 `0` 之外, 这个整数不会以零开头.

:::note 提示:

- `1 <= digits.length <= 100`
- `0 <= digits[i] <= 9`

:::

:::info 示例

```bash
输入: digits = [1, 2, 3]
输出: [1, 2, 4]
解释: 输入数组表示数字 123.
```

```bash
输入: digits = [4, 3, 2, 1]
输出: [4, 3, 2, 2]
解释: 输入数组表示数字 4321.
```

```bash
输入: digits = [0]
输出: [1]
```

:::

## 题解

从后往前循环, 逢 `9` 化 `0`, 如果位数不够, 最前面补 `1`; 如果当前位不是 `9`, 该位直接 `+1` 跳出循环.

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

<Tabs>
  <TabItem value="JavaScript" label="JavaScript" default>

```ts
/**
 * @param {number[]} digits
 * @return {number[]}
 */
var plusOne = function (digits) {
  let n = digits.length - 1

  while (n >= 0) {
    if (digits[n] === 9) {
      digits[n] = 0
      if (n === 0) digits.unshift(1)
    } else {
      digits[n] += 1
      break
    }

    --n
  }

  return digits
}
```

</TabItem>
<TabItem value="Rust" label="Rust">

```rust
pub fn plus_one(digits: Vec<i32>) -> Vec<i32> {
    let n = digits.len();
    let mut digits = digits;

    for i in (0..n).rev() {
        if digits[i] == 9 {
            digits[i] = 0;

            if i == 0 {
                digits.insert(0, 1);
            }
        } else {
            digits[i] += 1;
            break;
        }
    }

    digits
}
```

</TabItem>
</Tabs>
